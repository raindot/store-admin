{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./src/views/ProductDetail.vue?b367","webpack:///src/views/ProductDetail.vue","webpack:///./src/views/ProductDetail.vue?3ee7","webpack:///./src/views/ProductDetail.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","fails","wellKnownSymbol","V8_VERSION","SPECIES","module","exports","METHOD_NAME","array","constructor","foo","Boolean","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","product","_s","category","_l","image","idx","directives","name","rawName","modifiers","key","staticStyle","title","img","_m","content","price","origin_price","value","expression","on","$event","preventDefault","addCart","dismissCountDown","countDownChanged","staticRenderFns","props","data","imageUrl","options","author","quantity","cartList","loading","created","getProductDetail","methods","axios","get","apiProduct","then","console","log","res","modifyCount","subtotal","$bus","$emit","getCartList","found","method","url","apiCart","newList","err","Promise","foundItem","find","id","showAlert","component","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","toPrimitive","definePropertyModule","createPropertyDescriptor","object","propertyKey","f","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","arg","i","k","len","E","A","n","TypeError","aFunction","IndexedObject","createMethod","IS_RIGHT","that","argumentsLength","memo","self","index","right"],"mappings":"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","file":"js/chunk-300c7b0b.eee8658f.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container products mt-5 mb-5\"},[_c('div',[_c('router-link',{attrs:{\"to\":\"/products\"}},[_vm._v(\"所有產品\")]),_vm._v(\" / \"),_c('router-link',{attrs:{\"to\":(\"/products/\" + (_vm.product.category))}},[_vm._v(_vm._s(_vm.product.category))])],1),_c('div',{staticClass:\"row mt-3\"},[_c('div',{staticClass:\"col-sm-12 col-md-6\"},[_c('div',{staticClass:\"product-pic-zoom position-relative\"},[_vm._l((_vm.product.imageUrl),function(image,idx){return _c('img',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.large-img\",modifiers:{\"large-img\":true}}],key:idx,staticClass:\"product-big-img img-fluid\",attrs:{\"src\":image,\"alt\":\"\"}})}),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.large-img\",modifiers:{\"large-img\":true}}],staticClass:\"text-dark position-absolute\",staticStyle:{\"bottom\":\"0\",\"right\":\"0\"},attrs:{\"variant\":\"light\",\"pill\":\"\"}},[_c('i',{staticClass:\"fas fa-search-plus\"})]),_c('b-modal',{attrs:{\"id\":\"large-img\",\"size\":\"xl\",\"centered\":\"\",\"ok-only\":\"\",\"title\":_vm.product.title}},[_c('b-carousel',{staticStyle:{\"text-shadow\":\"0px 0px 2px #000\"},attrs:{\"id\":\"carousel-fade\",\"fade\":\"\",\"indicators\":\"\",\"controls\":\"\"}},_vm._l((_vm.product.imageUrl),function(img){return _c('b-carousel-slide',{key:img,attrs:{\"img-src\":img}})}),1)],1)],2)]),_c('div',{staticClass:\"col-sm-12 col-md-6\"},[_c('div',{staticClass:\"product-details\"},[_c('div',{staticClass:\"pd-title\"},[_c('span',[_vm._v(_vm._s(_vm.product.category))]),_c('h3',[_vm._v(_vm._s(_vm.product.title))]),_vm._m(0)]),_c('div',{staticClass:\"pd-desc\"},[_c('p',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(\" \"+_vm._s(_vm.product.content)+\" \")]),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('h4',[_vm._v(\"$\"+_vm._s(_vm.product.price))]),_c('del',{staticClass:\"ml-3 text-muted\",staticStyle:{\"font-size\":\"0.8rem\"}},[_vm._v(\"$\"+_vm._s(_vm.product.origin_price))])])]),_c('div',{staticClass:\"quantity\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"primary-btn\",attrs:{\"href\":\"#\"}},[_vm._m(1),_vm._v(\" Loading... \")]),_c('b-button',{staticClass:\"btn-block my-3\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addCart($event)}}},[_vm._v(\"Add To Cart\")])],1),_c('ul',{staticClass:\"pd-tags\"}),_vm._m(2)])]),_c('b-alert',{staticClass:\"mt-3\",staticStyle:{\"position\":\"fixed\",\"bottom\":\"70%\",\"right\":\"15%\",\"width\":\"70%\",\"z-index\":\"999\"},attrs:{\"show\":_vm.dismissCountDown,\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"warning\"},on:{\"dismiss-count-down\":_vm.countDownChanged}},[_vm._v(\" 已加入購物車 \")])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"heart-icon\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"icon_heart_alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner-border text-light\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pd-share\"},[_c('div',{staticClass:\"pd-social\"},[_c('a',{attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"ti-facebook\"})]),_c('a',{attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"ti-twitter-alt\"})]),_c('a',{attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"ti-linkedin\"})])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container products mt-5 mb-5\">\n    <div><router-link to=\"/products\">所有產品</router-link> / <router-link :to=\"`/products/${product.category}`\">{{product.category}}</router-link></div>\n    <div class=\"row mt-3\">\n      <div class=\"col-sm-12 col-md-6\">\n        <div class=\"product-pic-zoom position-relative\">\n          <img v-b-modal.large-img v-for=\"(image, idx) in product.imageUrl\" :key=\"idx\" class=\"product-big-img img-fluid\" :src=\"image\" alt />\n          <b-button v-b-modal.large-img variant=\"light\" pill class=\"text-dark position-absolute\" style=\"bottom: 0; right: 0;\">\n            <i class=\"fas fa-search-plus\"></i>\n          </b-button>\n          <b-modal id=\"large-img\" size=\"xl\" centered ok-only :title=\"product.title\">\n            <b-carousel\n              id=\"carousel-fade\"\n              style=\"text-shadow: 0px 0px 2px #000\"\n              fade\n              indicators\n              controls\n            >\n              <b-carousel-slide\n                v-for=\"img in product.imageUrl\"\n                :key=\"img\"\n                :img-src=\"img\"\n              ></b-carousel-slide>\n            </b-carousel>\n          </b-modal>\n        </div>\n        <!-- <div class=\"product-thumbs\">\n          <div class=\"product-thumbs-track ps-slider owl-carousel\">\n            <div class=\"pt active\" data-imgbigurl=\"img/product-single/product-1.jpg\">\n              <img src=\"img/product-single/product-1.jpg\" alt />\n            </div>\n            <div class=\"pt\" data-imgbigurl=\"img/product-single/product-2.jpg\">\n              <img src=\"img/product-single/product-2.jpg\" alt />\n            </div>\n            <div class=\"pt\" data-imgbigurl=\"img/product-single/product-3.jpg\">\n              <img src=\"img/product-single/product-3.jpg\" alt />\n            </div>\n            <div class=\"pt\" data-imgbigurl=\"img/product-single/product-3.jpg\">\n              <img src=\"img/product-single/product-3.jpg\" alt />\n            </div>\n          </div>\n        </div> -->\n      </div>\n      <div class=\"col-sm-12 col-md-6\">\n        <div class=\"product-details\">\n          <div class=\"pd-title\">\n            <span>{{product.category}}</span>\n            <h3>{{product.title}}</h3>\n            <a href=\"#\" class=\"heart-icon\">\n              <i class=\"icon_heart_alt\"></i>\n            </a>\n          </div>\n          <div class=\"pd-desc\">\n            <p style=\"white-space: pre-wrap;\">\n              {{product.content}}\n            </p>\n            <div class=\"d-flex align-items-center\">\n              <h4>${{product.price}}</h4>\n              <del style=\"font-size: 0.8rem;\" class=\"ml-3 text-muted\">${{product.origin_price}}</del>\n            </div>\n          </div>\n          <div class=\"quantity\">\n            <!-- <div class=\"pro-qty\">\n              <input v-model=\"quantity\" type=\"number\"/>\n            </div> -->\n            <a v-show=\"loading\" href=\"#\" class=\"primary-btn\">\n              <div class=\"spinner-border text-light\" role=\"status\">\n                    <span class=\"sr-only\"></span>\n                  </div>\n                  Loading...\n            </a>\n            <b-button @click.prevent=\"addCart\" variant=\"primary\" class=\"btn-block my-3\">Add To Cart</b-button>\n            <!-- <b-button variant=\"secondary\" class=\"btn-block my-3\">Buy Now</b-button> -->\n\n          </div>\n          <ul class=\"pd-tags\">\n          </ul>\n          <div class=\"pd-share\">\n            <div class=\"pd-social\">\n              <a href=\"#\">\n                <i class=\"ti-facebook\"></i>\n              </a>\n              <a href=\"#\">\n                <i class=\"ti-twitter-alt\"></i>\n              </a>\n              <a href=\"#\">\n                <i class=\"ti-linkedin\"></i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <b-alert\n      :show=\"dismissCountDown\"\n      dismissible\n      fade\n      variant=\"warning\"\n      @dismiss-count-down=\"countDownChanged\"\n      class=\"mt-3\"\n      style=\"position:fixed; bottom:70%; right:15%; width: 70%; z-index: 999;\"\n    >\n      已加入購物車\n    </b-alert>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['id'],\n  data () {\n    return {\n      product: {\n        imageUrl: [],\n        options: {\n          author: ''\n        }\n      },\n      quantity: 1,\n      cartList: [],\n      loading: false,\n      dismissCountDown: 0\n    }\n  },\n  created () {\n    this.getProductDetail()\n  },\n  methods: {\n    getProductDetail () {\n      const apiProduct = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/product/${this.id}`\n      this.axios.get(apiProduct).then((res) => {\n        console.log(res)\n        this.product = res.data.data\n        this.loading = false\n      })\n    },\n    modifyCount (count) {\n      const subtotal = this.quantity + count\n      if (subtotal > 0) {\n        this.quantity = subtotal\n      } else {\n        this.quantity = 0\n      }\n    },\n    addCart () {\n      this.$bus.$emit('show-overlay', true)\n      this.getCartList().then((cartList) => {\n        console.log(cartList)\n        const found = this.foundItem(cartList)\n        let quantity\n        let method = ''\n        if (found) {\n          quantity = this.quantity + found.quantity\n          method = 'patch'\n        } else {\n          quantity = this.quantity\n          method = 'post'\n        }\n        const apiCart = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`\n        this.axios({\n          method: method,\n          url: apiCart,\n          data: {\n            product: this.id,\n            quantity: quantity\n          }\n        }).then((res) => {\n          console.log(res)\n          this.showAlert()\n          this.getCartList().then((newList) => {\n            console.log(newList)\n            this.$bus.$emit('show-overlay', false)\n          })\n        }).catch(err => {\n          this.showAlert()\n          this.$bus.$emit('show-overlay', false)\n          console.log(err)\n        })\n      })\n    },\n    getCartList () {\n      return new Promise((resolve, reject) => {\n        const apiCartList = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`\n        this.axios\n          .get(apiCartList)\n          .then((res) => {\n            console.log(res)\n            const newList = res.data.data\n            const count = newList.reduce((acc, crr) => {\n              return acc + crr.quantity\n            }, 0)\n            this.$bus.$emit('updateCart', count)\n            resolve(newList)\n          })\n          .catch((err) => {\n            reject(err)\n          })\n      })\n    },\n    foundItem (cartList) {\n      return cartList.find((product) => {\n        return product.product.id === this.id\n      })\n    },\n    countDownChanged (dismissCountDown) {\n      this.dismissCountDown = dismissCountDown\n    },\n    showAlert () {\n      this.dismissCountDown = 2\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductDetail.vue?vue&type=template&id=330ad980&\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}