(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-300c7b0b"],{"13d5":function(t,i,a){"use strict";var e=a("23e7"),r=a("d58f").left,o=a("a640"),s=a("ae40"),n=o("reduce"),c=s("reduce",{1:0});e({target:"Array",proto:!0,forced:!n||!c},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1dde":function(t,i,a){var e=a("d039"),r=a("b622"),o=a("2d00"),s=r("species");t.exports=function(t){return o>=51||!e((function(){var i=[],a=i.constructor={};return a[s]=function(){return{foo:1}},1!==i[t](Boolean).foo}))}},"5f47":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"container products mt-5 mb-5"},[a("div",[a("router-link",{attrs:{to:"/products"}},[t._v("所有產品")]),t._v(" / "),a("router-link",{attrs:{to:"/products/"+t.product.category}},[t._v(t._s(t.product.category))])],1),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"product-pic-zoom position-relative"},[t._l(t.product.imageUrl,(function(t,i){return a("img",{directives:[{name:"b-modal",rawName:"v-b-modal.large-img",modifiers:{"large-img":!0}}],key:i,staticClass:"product-big-img img-fluid",attrs:{src:t,alt:""}})})),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.large-img",modifiers:{"large-img":!0}}],staticClass:"text-dark position-absolute",staticStyle:{bottom:"0",right:"0"},attrs:{variant:"light",pill:""}},[a("i",{staticClass:"fas fa-search-plus"})]),a("b-modal",{attrs:{id:"large-img",size:"xl",centered:"","ok-only":"",title:t.product.title}},[a("b-carousel",{staticStyle:{"text-shadow":"0px 0px 2px #000"},attrs:{id:"carousel-fade",fade:"",indicators:"",controls:""}},t._l(t.product.imageUrl,(function(t){return a("b-carousel-slide",{key:t,attrs:{"img-src":t}})})),1)],1)],2)]),a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"product-details"},[a("div",{staticClass:"pd-title"},[a("span",[t._v(t._s(t.product.category))]),a("h3",[t._v(t._s(t.product.title))]),t._m(0)]),a("div",{staticClass:"pd-desc"},[a("p",{staticStyle:{"white-space":"pre-wrap"}},[t._v(" "+t._s(t.product.content)+" ")]),a("div",{staticClass:"d-flex align-items-center"},[a("h4",[t._v("$"+t._s(t.product.price))]),a("del",{staticClass:"ml-3 text-muted",staticStyle:{"font-size":"0.8rem"}},[t._v("$"+t._s(t.product.origin_price))])])]),a("div",{staticClass:"quantity"},[a("a",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"primary-btn",attrs:{href:"#"}},[t._m(1),t._v(" Loading... ")]),a("b-button",{staticClass:"btn-block my-3",attrs:{variant:"primary"},on:{click:function(i){return i.preventDefault(),t.addCart(i)}}},[t._v("Add To Cart")])],1),a("ul",{staticClass:"pd-tags"}),t._m(2)])]),a("b-alert",{staticClass:"mt-3",staticStyle:{position:"fixed",bottom:"70%",right:"15%",width:"70%","z-index":"999"},attrs:{show:t.dismissCountDown,dismissible:"",fade:"",variant:"warning"},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" 已加入購物車 ")])],1)])},r=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("a",{staticClass:"heart-icon",attrs:{href:"#"}},[a("i",{staticClass:"icon_heart_alt"})])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"})])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"pd-share"},[a("div",{staticClass:"pd-social"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"ti-facebook"})]),a("a",{attrs:{href:"#"}},[a("i",{staticClass:"ti-twitter-alt"})]),a("a",{attrs:{href:"#"}},[a("i",{staticClass:"ti-linkedin"})])])])}],o=(a("99af"),a("7db0"),a("13d5"),a("d3b7"),{props:["id"],data:function(){return{product:{imageUrl:[],options:{author:""}},quantity:1,cartList:[],loading:!1,dismissCountDown:0}},created:function(){this.getProductDetail()},methods:{getProductDetail:function(){var t=this,i="".concat("https://course-ec-api.hexschool.io/api","/").concat("354b1b67-8c78-4eab-a8f1-148bbb2f3ec1","/ec/product/").concat(this.id);this.axios.get(i).then((function(i){console.log(i),t.product=i.data.data,t.loading=!1}))},modifyCount:function(t){var i=this.quantity+t;this.quantity=i>0?i:0},addCart:function(){var t=this;this.$bus.$emit("show-overlay",!0),this.getCartList().then((function(i){console.log(i);var a,e=t.foundItem(i),r="";e?(a=t.quantity+e.quantity,r="patch"):(a=t.quantity,r="post");var o="".concat("https://course-ec-api.hexschool.io/api","/").concat("354b1b67-8c78-4eab-a8f1-148bbb2f3ec1","/ec/shopping");t.axios({method:r,url:o,data:{product:t.id,quantity:a}}).then((function(i){console.log(i),t.showAlert(),t.getCartList().then((function(i){console.log(i),t.$bus.$emit("show-overlay",!1)}))})).catch((function(i){t.showAlert(),t.$bus.$emit("show-overlay",!1),console.log(i)}))}))},getCartList:function(){var t=this;return new Promise((function(i,a){var e="".concat("https://course-ec-api.hexschool.io/api","/").concat("354b1b67-8c78-4eab-a8f1-148bbb2f3ec1","/ec/shopping");t.axios.get(e).then((function(a){console.log(a);var e=a.data.data,r=e.reduce((function(t,i){return t+i.quantity}),0);t.$bus.$emit("updateCart",r),i(e)})).catch((function(t){a(t)}))}))},foundItem:function(t){var i=this;return t.find((function(t){return t.product.id===i.id}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=2}}}),s=o,n=a("2877"),c=Object(n["a"])(s,e,r,!1,null,null,null);i["default"]=c.exports},"7db0":function(t,i,a){"use strict";var e=a("23e7"),r=a("b727").find,o=a("44d2"),s=a("ae40"),n="find",c=!0,d=s(n);n in[]&&Array(1)[n]((function(){c=!1})),e({target:"Array",proto:!0,forced:c||!d},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(n)},8418:function(t,i,a){"use strict";var e=a("c04e"),r=a("9bf2"),o=a("5c6c");t.exports=function(t,i,a){var s=e(i);s in t?r.f(t,s,o(0,a)):t[s]=a}},"99af":function(t,i,a){"use strict";var e=a("23e7"),r=a("d039"),o=a("e8b5"),s=a("861d"),n=a("7b0b"),c=a("50c4"),d=a("8418"),u=a("65f0"),l=a("1dde"),f=a("b622"),h=a("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",b=h>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=l("concat"),C=function(t){if(!s(t))return!1;var i=t[p];return void 0!==i?!!i:o(t)},w=!b||!g;e({target:"Array",proto:!0,forced:w},{concat:function(t){var i,a,e,r,o,s=n(this),l=u(s,0),f=0;for(i=-1,e=arguments.length;i<e;i++)if(o=-1===i?s:arguments[i],C(o)){if(r=c(o.length),f+r>v)throw TypeError(m);for(a=0;a<r;a++,f++)a in o&&d(l,f,o[a])}else{if(f>=v)throw TypeError(m);d(l,f++,o)}return l.length=f,l}})},d58f:function(t,i,a){var e=a("1c0b"),r=a("7b0b"),o=a("44ad"),s=a("50c4"),n=function(t){return function(i,a,n,c){e(a);var d=r(i),u=o(d),l=s(d.length),f=t?l-1:0,h=t?-1:1;if(n<2)while(1){if(f in u){c=u[f],f+=h;break}if(f+=h,t?f<0:l<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:l>f;f+=h)f in u&&(c=a(c,u[f],f,d));return c}};t.exports={left:n(!1),right:n(!0)}}}]);
//# sourceMappingURL=chunk-300c7b0b.eee8658f.js.map